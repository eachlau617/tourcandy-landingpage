<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tourcandy | ã‚¤ãƒ³ãƒã‚¦ãƒ³ãƒ‰é›†å®¢æœ€å¤§åŒ–</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://assets.calendly.com/assets/external/widget.css" rel="stylesheet">
    <script src="https://assets.calendly.com/assets/external/widget.js" type="text/javascript" async></script>
    <style>
        body { font-family: "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #7cc431 0%, #46a31d 100%); }
        .text-tourcandy { color: #46a31d; }
        .border-tourcandy { border-color: #7cc431; }
        .modal-hidden { display: none !important; }
        .modal-overlay { background: rgba(0,0,0,0.6); }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <header class="gradient-bg text-white py-16 px-4 text-center shadow-lg">
        <p class="text-sm font-bold mb-2 tracking-widest">ã€é‡è¦ã€‘ã‚¤ãƒ³ãƒã‚¦ãƒ³ãƒ‰é›†å®¢æœ€å¤§åŒ–ã®ã”æ¡ˆå†…</p>
        <h1 class="text-3xl md:text-5xl font-extrabold mb-6 leading-tight">
            å¤–å›½äººè¦³å…‰å®¢ã‚’è²´åº—ã¸å‘¼ã³è¾¼ã‚€ã€‚<br>
            <span class="text-yellow-300">åˆæœŸè²»ç”¨ã®ã¿ãƒ»æœˆé¡0å††</span>
        </h1>
        <p class="text-lg mb-8 opacity-90">tourcandyï¼ˆãƒ„ã‚¢ãƒ¼ã‚­ãƒ£ãƒ³ãƒ‡ã‚£ãƒ¼ï¼‰</p>
    </header>

    <section class="max-w-4xl mx-auto py-12 px-6">
        <div class="grid md:grid-cols-3 gap-8 text-center text-sm">
            <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-tourcandy">
                <div class="text-4xl mb-4">âœˆï¸</div>
                <h3 class="font-bold mb-2 text-lg text-tourcandy">æµ·å¤–ä¸€æ‹¬æ²è¼‰</h3>
                <p>è¨ªæ—¥å‰ã«äºˆç´„ãƒ»æ±ºæ¸ˆå®Œçµã€‚No-Showé˜²æ­¢ã€‚</p>
            </div>
            <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-tourcandy">
                <div class="text-4xl mb-4">ğŸ’°</div>
                <h3 class="font-bold mb-2 text-lg text-tourcandy">æœˆé¡è²»ç”¨ 0å††</h3>
                <p>å›ºå®šè²»ãªã—ã€‚æˆæœå ±é…¬å‹ã§ãƒªã‚¹ã‚¯æœ€å°åŒ–ã€‚</p>
            </div>
            <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-tourcandy">
                <div class="text-4xl mb-4">âš™ï¸</div>
                <h3 class="font-bold mb-2 text-lg text-tourcandy">å®Œå…¨é‹ç”¨ä»£è¡Œ</h3>
                <p>å®Ÿç¸¾700åº—èˆ—ä»¥ä¸Šã€‚å°‚é–€ãƒãƒ¼ãƒ ãŒç®¡ç†ã€‚</p>
            </div>
        </div>
    </section>

    <section class="bg-white py-12 px-6 border-y border-gray-200 text-center">
        <div class="max-w-xl mx-auto space-y-4">
            <h2 class="text-2xl font-bold mb-8 italic text-tourcandy">ï¼¼ ã¾ãšã¯ä»¥ä¸‹ã‚ˆã‚ŠãŠé¸ã³ãã ã•ã„ ï¼</h2>
            
            <button onclick="openModal('downloadModal')" class="block w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-5 rounded-full text-lg shadow-lg transition duration-300">
                ğŸ“„ è³‡æ–™ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ (ç„¡æ–™)
            </button>
            
            <button onclick="Calendly.initPopupWidget({url: 'https://calendly.com/liu-tourcandy/tourcandy'});return false;" class="block w-full bg-gray-800 hover:bg-black text-white font-bold py-5 rounded-full text-lg shadow-lg transition duration-300">
                ğŸ’» ã‚ªãƒ³ãƒ©ã‚¤ãƒ³èª¬æ˜ä¼šã‚’äºˆç´„ã™ã‚‹
            </button>

            <button onclick="openModal('visitModal')" class="block w-full border-2 border-tourcandy text-tourcandy font-bold py-5 rounded-full text-lg hover:bg-green-50 transition duration-300">
                ğŸš¶ æ‹…å½“è€…ã®è¨ªå•ãƒ»é›»è©±ã‚’ä¾é ¼ã™ã‚‹
            </button>
        </div>
    </section>

    <div id="downloadModal" class="modal-hidden fixed inset-0 z-50 flex items-center justify-center p-4 text-left">
        <div class="modal-overlay absolute inset-0" onclick="closeModal('downloadModal')"></div>
        <div class="bg-white rounded-2xl shadow-2xl z-10 w-full max-w-md p-8 relative">
            <h3 class="text-xl font-bold mb-6 text-center text-tourcandy">è³‡æ–™ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ç”³ã—è¾¼ã¿</h3>
            <form action="https://formspree.io/f/mnjbbvdo" method="POST" id="downloadForm" onsubmit="handleDownloadSubmit(event)" class="space-y-4">
                <input type="hidden" name="_subject" value="ã€è³‡æ–™è«‹æ±‚ã€‘tourcandy">
                <div>
                    <label class="block text-sm font-bold text-gray-700">è²´åº—å / ä¼šç¤¾å*</label>
                    <input type="text" name="storeName" required class="w-full px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-green-500">
                </div>
                <div>
                    <label class="block text-sm font-bold text-gray-700">åº—èˆ—æ‰€åœ¨åœ° (ä½æ‰€)*</label>
                    <input type="text" name="address" required class="w-full px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-green-500">
                </div>
                <div>
                    <label class="block text-sm font-bold text-gray-700">æ‹…å½“è€…å*</label>
                    <input type="text" name="userName" required class="w-full px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-green-500">
                </div>
                <div>
                    <label class="block text-sm font-bold text-gray-700">é›»è©±ç•ªå· (ãƒã‚¤ãƒ•ãƒ³ãªã—)*</label>
                    <input type="tel" name="tel" required pattern="^0\d{9,10}$" title="æ—¥æœ¬ã®é›»è©±ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„" class="w-full px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-green-500" placeholder="09012345678">
                </div>
                <button type="submit" id="dlBtn" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded-lg shadow-md transition">
                    è¦ç´„ã«åŒæ„ã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
                </button>
            </form>
        </div>
    </div>

    <div id="visitModal" class="modal-hidden fixed inset-0 z-50 flex items-center justify-center p-4 text-left">
        <div class="modal-overlay absolute inset-0" onclick="closeModal('visitModal')"></div>
        <div class="bg-white rounded-2xl shadow-2xl z-10 w-full max-w-md p-8 relative overflow-y-auto max-h-[90vh]">
            <h3 class="text-xl font-bold mb-6 text-center text-tourcandy">å€‹åˆ¥èª¬æ˜ã®ç”³ã—è¾¼ã¿</h3>
            <form action="https://formspree.io/f/mnjbbvdo" method="POST" onsubmit="return handleVisitSubmit(event)" class="space-y-4">
                <input type="hidden" name="_subject" value="ã€å€‹åˆ¥ç›¸è«‡ç”³è«‹ã€‘tourcandy">
                <div><label class="block text-sm font-bold text-gray-700">è²´åº—å*</label><input type="text" name="storeName" required class="w-full px-4 py-2 border rounded-lg outline-none"></div>
                <div><label class="block text-sm font-bold text-gray-700">åº—èˆ—æ‰€åœ¨åœ°*</label><input type="text" name="address" required class="w-full px-4 py-2 border rounded-lg outline-none"></div>
                <div><label class="block text-sm font-bold text-gray-700">æ‹…å½“è€…å*</label><input type="text" name="userName" required class="w-full px-4 py-2 border rounded-lg outline-none"></div>
                <div><label class="block text-sm font-bold text-gray-700">é›»è©±ç•ªå·*</label><input type="tel" name="tel" required pattern="^0\d{9,10}$" class="w-full px-4 py-2 border rounded-lg outline-none"></div>
                <div>
                    <label class="block text-sm font-bold text-gray-700">å¸Œæœ›æ¡ˆå†…æ–¹æ³•*</label>
                    <select name="method" class="w-full px-4 py-2 border rounded-lg bg-white">
                        <option value="é›»è©±">é›»è©±ã§ã®èª¬æ˜å¸Œæœ›</option>
                        <option value="è¨ªå•">åº—èˆ—ã¸ã®è¨ªå•å¸Œæœ›</option>
                    </select>
                </div>
                <div><label class="block text-sm font-bold text-gray-700 text-red-600 font-bold">å¸Œæœ›æ—¥æ™‚ (å¹³æ—¥ 10-17æ™‚)*</label><input type="datetime-local" name="preferredTime" id="v_time" required class="w-full px-4 py-2 border rounded-lg outline-none"></div>
                <button type="submit" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded-lg shadow-md transition">ç”³ã—è¾¼ã¿ã‚’é€ä¿¡ã™ã‚‹</button>
            </form>
        </div>
    </div>

    <footer class="py-12 text-center text-gray-500 text-xs">
        <p>Â© 2026 tourcandy äº‹å‹™å±€</p>
    </footer>

    <script>
        function openModal(id) { document.getElementById(id).classList.remove('modal-hidden'); }
        function closeModal(id) { document.getElementById(id).classList.add('modal-hidden'); }

        // ä¸‹è½½è¡¨å•çš„ AJAX æäº¤å¤„ç†
        async function handleDownloadSubmit(e) {
            e.preventDefault();
            const form = e.target;
            const btn = document.getElementById('dlBtn');
            const formData = new FormData(form);

            btn.disabled = true;
            btn.innerText = "é€ä¿¡ä¸­...";

            try {
                const response = await fetch(form.action, {
                    method: 'POST',
                    body: formData,
                    headers: { 'Accept': 'application/json' }
                });

                if (response.ok) {
                    alert("ãŠç”³ã—è¾¼ã¿ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚è³‡æ–™ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚");
                    // è¿™é‡Œç›´æ¥æŒ‡å‘åŒæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶
                    window.location.href = "./tourcandy_info.pdf"; 
                    
                    setTimeout(() => {
                        closeModal('downloadModal');
                        btn.disabled = false;
                        btn.innerText = "è¦ç´„ã«åŒæ„ã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰";
                        form.reset();
                    }, 2000);
                } else {
                    alert("é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚");
                    btn.disabled = false;
                    btn.innerText = "è¦çº¦ã«åŒæ„ã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰";
                }
            } catch (error) {
                alert("ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚");
                btn.disabled = false;
                btn.innerText = "è¦çº¦ã«åŒæ„ã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰";
            }
        }

        function handleVisitSubmit(e) {
            const date = new Date(document.getElementById('v_time').value);
            const day = date.getDay();
            const hour = date.getHours();
            if (day === 0 || day === 6 || hour < 10 || hour >= 17) {
                alert("å¹³æ—¥ã®10:00ã€œ17:00ã®é–“ã§é¸æŠã—ã¦ãã ã•ã„ã€‚");
                return false;
            }
            alert("ãŠç”³ã—è¾¼ã¿ã‚’å—ã‘ä»˜ã‘ã¾ã—ãŸã€‚æ‹…å½“ã‚ˆã‚Šã”é€£çµ¡ã„ãŸã—ã¾ã™ã€‚");
            return true;
        }
    </script>
</body>
</html>